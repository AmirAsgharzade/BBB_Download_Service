ffmpeg \
-thread_queue_size 512 -f x11grab -framerate 30 -video_size 1920x1080 -i :99.0 \
-thread_queue_size 512 -f pulse -ar 44100 -i VirtualSink.monitor \
-map 0:v:0 -map 1:a:0 \
-async 1 -vsync 1 -fflags +genpts -start_at_zero \
-c:v libx264 -preset veryfast -crf 23 \
-c:a aac -b:a 128k \
output.mp4



install these if it didn't work properly

ffmpeg
pulseaudio
x11-utils


